# Lab 1 Java

## 1. Sequential run

|No. |N |M |k | Time(nano) |
|--|--|--|--|------------|
|1 |10 |10 |3 | 104470     |
|2 |1000 |1000 |5 | 66706070   |
|3 |10 |10000 |5 | 3317770    |
|4 |10000 |10 |5 | 4152430    |
|5 |10000 |10000 |5 |5383066020 |

--- 

## 2. Paralel Horizontal run

|No. |N |M |k |p |Time(nano) |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |948840 |
|||||
|2 |1000 |1000 |5 |2 |53907190 |
|3 |1000 |1000 |5 |4 |18362810 |
|4 |1000 |1000 |5 |8 |18173030 |
|5 |1000 |1000 |5 |16 |19410900 |
|||||
|6 |10 |10000 |5 |2 |931370 |
|7 |10 |10000 |5 |4 |1336490 |
|8 |10 |10000 |5 |8 |2040080 |
|9 |10 |10000 |5 |16 |4358110 |
|||||
|10 |10000 |10 |5 |2 |6597700 |
|11 |10000 |10 |5 |4 |5708600 |
|12 |10000 |10 |5 |8 |5100370 |
|13 |10000 |10 |5 |16 |5638170 |
|||||
|14 |10000 |10000 |5 |2 |3648217100 |
|15 |10000 |10000 |5 |4 |5275180550 |
|16 |10000 |10000 |5 |8 |4117989760 |
|17 |10000 |10000 |5 |16 |2499982980 |

---

## 3. Paralel Vertical run

|No. |N |M |k |p |Time(nano) |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |777540 |
|||||
|2 |1000 |1000 |5 |2 |42255410 |
|3 |1000 |1000 |5 |4 |25114830 |
|4 |1000 |1000 |5 |8 |21743670 |
|5 |1000 |1000 |5 |16 |22444800 |
|||||
|6 |10 |10000 |5 |2 |2863900 |
|7 |10 |10000 |5 |4 |2738840 |
|8 |10 |10000 |5 |8 |2328260 |
|9 |10 |10000 |5 |16 |3504820 |
|||||
|10 |10000 |10 |5 |2 |914670 |
|11 |10000 |10 |5 |4 |1784980 |
|12 |10000 |10 |5 |8 |3040160 |
|13 |10000 |10 |5 |16 |3861620 |
|||||
|14 |10000 |10000 |5 |2 |5040889520 |
|15 |10000 |10000 |5 |4 |2808346750 |
|16 |10000 |10000 |5 |8 |2232031770 |
|17 |10000 |10000 |5 |16 |1880285300 |

---

# C++

## 1. Static sequential run
|No. |N |M |k |Time |
|--|--|--|--|--|
|1 |10 |10 |3 |4780 |
|2 |1000 |1000 |5 |101552370 |
|3 |10 |10000 |5 |5754570 |
|4 |10000 |10 |5 |8015850 |
|5 |10000 |10000 |5 |7201215300 |

---

## 2. Dynamic sequential run

|No. |N |M |k |Time |
|--|--|--|--|--|
|1 |10 |10 |3 |4830 |
|2 |1000 |1000 |5 |102661270 |
|3 |10 |10000 |5 |5963480 |
|4 |10000 |10 |5 |7905970 |
|5 |10000 |10000 |5 |7140726400 |

----

## 3. Static paralel horizontal run

|No. |N |M |k |p |Time |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |3102450 |
|||||||
|2 |1000 |1000 |5 |2 |**329183100** |
|3 |1000 |1000 |5 |4 |525489450 |
|4 |1000 |1000 |5 |8 |688697610 |
|5 |1000 |1000 |5 |16 |860680380 |
|||||||
|6 |10 |10000 |5 |2 |**30565210** |
|7 |10 |10000 |5 |4 |54136880 |
|8 |10 |10000 |5 |8 |78887650 |
|9 |10 |10000 |5 |16 |131996770 |
|||||||
|10 |10000 |10 |5 |2 |**26686810** |
|11 |10000 |10 |5 |4 |44988420 |
|12 |10000 |10 |5 |8 |64072750 |
|13 |10000 |10 |5 |16 |88802340 |
|||||||
|14 |10000 |10000 |5 |2 |**26816662740** |
|15 |10000 |10000 |5 |4 |47071927350 |
|16 |10000 |10000 |5 |8 |64837434590 |
|17 |10000 |10000 |5 |16 |81818178500 |

----
<br>

## 4. Static paralel vertical run

|No. |N |M |k |p |Time |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |3270130 |
|||||
|2 |1000 |1000 |5 |2 |**324490680** |
|3 |1000 |1000 |5 |4 |523229330 |
|4 |1000 |1000 |5 |8 |695730880 |
|5 |1000 |1000 |5 |16 |948401590 |
||||||
|6 |10 |10000 |5 |2 |**38851370** |
|7 |10 |10000 |5 |4 |62676250 |
|8 |10 |10000 |5 |8 |86197320 |
|9 |10 |10000 |5 |16 |113926850 |
||||||
|10 |10000 |10 |5 |2 |**40388340** |
|11 |10000 |10 |5 |4 |100650660 |
|12 |10000 |10 |5 |8 |178275830 |
|13 |10000 |10 |5 |16 |303616400 |
||||||
|14 |10000 |10000 |5 |2 |**31512232780** |
|15 |10000 |10000 |5 |4 |54890889200 |
|16 |10000 |10000 |5 |8 |73294157300 |
|17 |10000 |10000 |5 |16 |92328666460 |

---

## 5. Dynamic paralel horizontal run

|No. |N |M |k |p |Time |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |4107020 |
||||||
|2 |1000 |1000 |5 |2 |**243749880** |
|3 |1000 |1000 |5 |4 |341485390 |
|4 |1000 |1000 |5 |8 |443160750 |
|5 |1000 |1000 |5 |16 |538666180 |
||||||
|6 |10 |10000 |5 |2 |**16020740** |
|7 |10 |10000 |5 |4 |31485080 |
|8 |10 |10000 |5 |8 |49049550 |
|9 |10 |10000 |5 |16 |85258340 |
||||||
|10 |10000 |10 |5 |2 |**20566450** |
|11 |10000 |10 |5 |4 |37513820 |
|12 |10000 |10 |5 |8 |54224170 |
|13 |10000 |10 |5 |16 |77550850 |
||||||
|14 |10000 |10000 |5 |2 |**13187906290** |
|15 |10000 |10000 |5 |4 |23109035470 |
|16 |10000 |10000 |5 |8 |31528821880 |
|17 |10000 |10000 |5 |16 |39530570510 |

---

## 6. Dynamic paralel vertical run

|No. |N |M |k |p |Time |
|--|--|--|--|--|--|
|1 |10 |10 |3 |4 |3846310 |
||||||
|2 |1000 |1000 |5 |2 |**207266550** |
|3 |1000 |1000 |5 |4 |316607130 |
|4 |1000 |1000 |5 |8 |432649690 |
|5 |1000 |1000 |5 |16 |547559240 |
||||||
|6 |10 |10000 |5 |2 |**19353640** |
|7 |10 |10000 |5 |4 |33291130 |
|8 |10 |10000 |5 |8 |49722260 |
|9 |10 |10000 |5 |16 |80444140 |
||||||
|10 |10000 |10 |5 |2 |**23734640** |
|11 |10000 |10 |5 |4 |44211350 |
|12 |10000 |10 |5 |8 |80038010 |
|13 |10000 |10 |5 |16 |122756470 |
||||||
|14 |10000 |10000 |5 |2 |**20599673640** |
|15 |10000 |10000 |5 |4 |35276428180 |
|16 |10000 |10000 |5 |8 |46566492490 |
|17 |10000 |10000 |5 |16 |57578150070 |

---

### Concluzii

#### Java

Executia paralela este mai rapida pentru cazurile 1000x1000 sau 10000x10000. Depinde de dimensiuni, cea verticala este mai rapida decat cea orizontala.
De asemenea, cresterea paralelismului scade timpul necesar, pana intr un anumit prag. Se poate observa ca pentru diferite modalitati de rulare, si diferiti parametri, exista un numar optim de thread-uri. 
La parametrii mici, paralelizarea influenteaza negativ timpul de executie.

#### C++
Executile secventiale statice/dinamice au timp similari de executie, dar in mod paralel, cea dinamica aduce cele mai bune rezultate.
Paralelizarea nu are efectul dorit, timpul creste odata cu numarul de thread-uri alocat. Performanta scade odata cu cresterea parametrilor.
Pentru paralelism, versiunile dinamice sunt mai rapide.
Costul de initializare poate impacta negativ timpul de executie.

#### Java vs C++

Timpii de executie sunt mai buni pentru java. Spre deosebire de c++, in java paralelismul isi arata efectul odata cu cresterea numarului de thread-uri.

#### Orizontal vs Vertical
Diferenta depinde de la caz la caz, deoarece thread-urile sunt imprevizibile, conteaza mult si forma matricii si a kernelului.


Paralelizarea aduce beneficii timpului de executie doar pana la o anumita dimensiune si numar de threaduri. Se pot observa `sweet spot-uri` pentru unele dimensiuni. De exemplu: pentru 10000x10000 in java cu k=5x5, cel mai mic timp de executie este cu p = 8, pe vertical; dar pe orizontal, pentru aceleasi specificatii, este cu p=16.